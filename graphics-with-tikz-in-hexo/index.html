<!doctype html>
<html lang="zh-Hans">
<head>
  <title>使用 TikZ 在 Hexo 博客中愉快地画图 - PRIN BLOG</title>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="HandheldFriendly" content="True" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
<meta name="generator" content="Hexo" />
<link rel="icon" href="/images/favicon.png" />
  <link rel="canonical" href="https://prinsss.github.io/graphics-with-tikz-in-hexo/"/>
  <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="PRIN BLOG">
  <meta name="keywords" content="Hexo,LaTeX," />

<meta name="description" content="一转眼就到 2024 年了！大家新年快乐！ 前段时间在写文章时，需要一些配图，于是就使用了 TikZ 来绘制。TikZ 是一个强大的  宏包，可以使用代码的形式绘制出各种各样精美的矢量图。    如果你的阅读器看不到上面的 SVG 格式图片，可以点这里查看 PNG 格式。    上面的图对应的 TikZ 代码可以在这里找到。然而画是画爽了，想把它贴到博客里时却犯了难——目前竟然没有什么好办法可以直">
<meta property="og:type" content="article">
<meta property="og:title" content="使用 TikZ 在 Hexo 博客中愉快地画图">
<meta property="og:url" content="https://prinsss.github.io/graphics-with-tikz-in-hexo/index.html">
<meta property="og:site_name" content="PRIN BLOG">
<meta property="og:description" content="一转眼就到 2024 年了！大家新年快乐！ 前段时间在写文章时，需要一些配图，于是就使用了 TikZ 来绘制。TikZ 是一个强大的  宏包，可以使用代码的形式绘制出各种各样精美的矢量图。    如果你的阅读器看不到上面的 SVG 格式图片，可以点这里查看 PNG 格式。    上面的图对应的 TikZ 代码可以在这里找到。然而画是画爽了，想把它贴到博客里时却犯了难——目前竟然没有什么好办法可以直">
<meta property="og:locale">
<meta property="og:image" content="https://prinsss.github.io/graphics-with-tikz-in-hexo/example-tikz-graph.png">
<meta property="article:published_time" content="2024-01-15T20:00:00.000Z">
<meta property="article:modified_time" content="2024-01-15T20:00:00.000Z">
<meta property="article:author" content="prin">
<meta property="article:tag" content="Hexo">
<meta property="article:tag" content="LaTeX">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://prinsss.github.io/graphics-with-tikz-in-hexo/example-tikz-graph.png">
  <meta name="google-site-verification" content="GRFMvqszPSgldR5B46PfCl67MehNVagYoA9AtJpd8BA" />

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/han-css@3.3.0/dist/han.min.css">
<link rel="stylesheet" href="https://fonts.loli.net/css?family=Fira+Mono|Roboto+Slab:400,600|Noto+Serif+SC:600&display=swap">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@10.6.0/styles/atom-one-dark.min.css" media="screen and (prefers-color-scheme: dark)">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@10.6.0/styles/atom-one-light.min.css" media="screen and (prefers-color-scheme: light)">
<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/node-tikzjax@latest/css/fonts.css" /><style>.tikzjax { display: block; text-align: center; user-select: none; }</style><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>
<body>

<header>
  <div class="container">
    <div class="site-name">
      <a class="logo" href="/">PRIN BLOG</a>
      <span class="description">半吊子全栈开发者的日常</span>
    </div>
  </div>
</header>

<main>
  <div class="container">
    <div class="row">
      <section class="content col-md-8 col-12">
        
  <article>
    <h1 class="post-title">
      <a href="/graphics-with-tikz-in-hexo/">使用 TikZ 在 Hexo 博客中愉快地画图</a>
    </h1>
    <div class="post-meta">
      <span class="post-meta-item post-meta-date">
  <time datetime="2024-01-16T04:00:00+08:00">2024-01-16</time>
</span>

<span class="post-meta-item post-meta-categories">
  <span class="post-meta-item-indicator">Category:</span>
  
    <a class="category-link" href="/categories/tech/">技术</a>
  
</span>

<span class="post-meta-item post-meta-tags">
  
    <a class="tag--link" href="/tag/Hexo/" rel="tag">Hexo</a> <a class="tag--link" href="/tag/LaTeX/" rel="tag">LaTeX</a>
  
</span>


<span class="post-meta-item post-meta-views">
  <span class="pv-counter">loading</span> views
</span>


    </div>

    
      <script src="https://cdn.jsdelivr.net/npm/dayjs@1.10.4/dayjs.min.js"></script>
<script>
  var post_updated = dayjs("2024-01-15T20:00:00.000Z");
  var days_diff_now = dayjs().diff(post_updated, 'days');

  if (days_diff_now > 365) {
    document.write(
      '<div class="post-warning">'+
        '本文最后修订于 '+days_diff_now+' 天前（'+post_updated.format('YYYY-MM-DD')+'），'+
        '其中的信息可能已经有所发展或者不再适用于现阶段。'+
      '</div>'
    );
  }
</script>

    

    
      <div class="post-toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#tldr"><span class="toc-text">TL;DR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tikz-%E6%95%99%E7%A8%8B"><span class="toc-text">TikZ 教程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E7%90%86"><span class="toc-text">原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%80%E9%99%90%E6%80%A7"><span class="toc-text">局限性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%B4%E8%B0%A2"><span class="toc-text">致谢</span></a></li></ol></div>
    

    <div class="post-content"><p>一转眼就到 2024 年了！大家新年快乐！</p>
<p>前段时间在写文章时，需要一些配图，于是就使用了 <a target="_blank" rel="noopener" href="https://tikz.dev">Ti<em>k</em>Z</a> 来绘制。Ti<em>k</em>Z 是一个强大的 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.488ex;" xmlns="http://www.w3.org/2000/svg" width="6.293ex" height="2.108ex" role="img" focusable="false" viewBox="0 -716.3 2781.3 931.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mspace" transform="translate(681,0)"></g><g data-mml-node="mpadded" transform="translate(356,0)"><g transform="translate(0,210)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mstyle" transform="scale(0.707)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g></g></g></g></g></g><g data-mml-node="mspace" transform="translate(886.3,0)"></g><g data-mml-node="mi" transform="translate(716.3,0)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mspace" transform="translate(1420.3,0)"></g><g data-mml-node="mpadded" transform="translate(1280.3,0)"><g transform="translate(0,-215.5)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path></g></g></g></g><g data-mml-node="mspace" transform="translate(2044.3,0)"></g><g data-mml-node="mi" transform="translate(1929.3,0)"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g></g></g></svg></mjx-container></span> 宏包，可以使用代码的形式绘制出各种各样精美的矢量图。</p>
<p><span class="tikzjax"><svg xmlns="http://www.w3.org/2000/svg" width="475.92" height="227.614" viewBox="-72 -72 356.94 170.711"><g stroke="#000" stroke-miterlimit="10" stroke-width=".4"><path fill="none" stroke="gray" stroke-width=".2" d="M-62.05 92.55H51.761m-113.81-28.453H51.76m-113.81-28.452H51.76M-62.049 7.192H51.76m-113.81-28.453H51.76M-59.204 95.396V-46.868m28.452 142.264V-46.868M-2.299 95.396V-46.868M26.154 95.396V-46.868m25.607 0"/><path fill="none" d="M-64.895 64.097H59.897"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" d="M58.017 61.697c.38 1.44 1.227 2.12 2.08 2.4-.853.28-1.7.96-2.08 2.4"/><text x="-59.204" y="64.097" stroke="none" font-family="cmmi10" font-size="10" transform="translate(123.034 2.153)">x</text><path fill="none" d="M-59.204 98.24V-55.003"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" d="M-61.604-53.124c1.44-.38 2.12-1.227 2.4-2.08.28.853.96 1.7 2.4 2.08"/><g stroke="none" font-size="10"><text x="-59.204" y="64.097" font-family="cmmi10" transform="translate(-9.733 -125.534)">f</text><text x="-53.232" y="64.097" font-family="cmr10" transform="translate(-9.733 -125.534)">(</text><text x="-49.343" y="64.097" font-family="cmmi10" transform="translate(-9.733 -125.534)">x</text><text x="-43.628" y="64.097" font-family="cmr10" transform="translate(-9.733 -125.534)">)</text></g><g fill="red" stroke="red"><path fill="none" d="m-59.204 64.097 4.741-4.741 4.742-4.742 4.742-4.742 4.742-4.742 4.742-4.742 4.742-4.742 4.741-4.741 4.742-4.742 4.742-4.742 4.742-4.742 4.742-4.742 4.742-4.742 4.741-4.741 4.742-4.742 4.742-4.742 4.742-4.742 4.742-4.742 4.742-4.742 4.741-4.741 4.742-4.742 4.742-4.742 4.742-4.742 4.742-4.742 4.742-4.742"/><g fill="red" stroke="none" font-size="10"><text x="-59.204" y="64.097" font-family="cmmi10" transform="translate(117.337 -111.304)">f</text><text x="-53.232" y="64.097" font-family="cmr10" transform="translate(117.337 -111.304)">(</text><text x="-49.343" y="64.097" font-family="cmmi10" transform="translate(117.337 -111.304)">x</text><text x="-43.628" y="64.097" font-family="cmr10" transform="translate(117.337 -111.304)">)</text><text x="-36.961" y="64.097" font-family="cmr10" transform="translate(117.337 -111.304)">=</text><text x="-26.406" y="64.097" font-family="cmmi10" transform="translate(117.337 -111.304)">x</text></g></g><g fill="#00f" stroke="#00f"><path fill="none" d="m-59.204 64.097 4.741-4.719 4.742-4.59 4.742-4.33 4.742-3.953 4.742-3.465 4.742-2.883 4.741-2.219 4.742-1.493 4.742-.728 4.742.06 4.742.842 4.742 1.606 4.741 2.322 4.742 2.975 4.742 3.544 4.742 4.017 4.742 4.378 4.742 4.617 4.741 4.727 4.742 4.708 4.742 4.559 4.742 4.282 4.742 3.887 4.742 3.384"/><g fill="#00f" stroke="none" font-size="10"><text x="-59.204" y="64.097" font-family="cmmi10" transform="translate(117.337 24.028)">f</text><text x="-53.232" y="64.097" font-family="cmr10" transform="translate(117.337 24.028)">(</text><text x="-49.343" y="64.097" font-family="cmmi10" transform="translate(117.337 24.028)">x</text><text x="-43.628" y="64.097" font-family="cmr10" transform="translate(117.337 24.028)">)</text><text x="-36.961" y="64.097" font-family="cmr10" transform="translate(117.337 24.028)">=</text><text x="-26.406" y="64.097" font-family="cmr10" transform="translate(117.337 24.028)">sin</text><text x="-12.461" y="64.097" font-family="cmmi10" transform="translate(117.337 24.028)">x</text></g></g><g fill="#ff8000" stroke="#ff8000"><path fill="none" d="m-59.204 62.675 4.741-.258 4.742-.305 4.742-.36 4.742-.425 4.742-.503 4.742-.593 4.741-.702 4.742-.828 4.742-.979 4.742-1.156 4.742-1.366 4.742-1.613 4.741-1.906 4.742-2.252 4.742-2.66 4.742-3.143 4.742-3.713 4.742-4.386 4.741-5.18 4.742-6.122 4.742-7.23 4.742-8.542 4.742-10.091L54.6-13.56"/><g fill="#ff8000" stroke="none"><text x="-59.204" y="64.097" font-family="cmmi10" font-size="10" transform="translate(117.337 -75.158)">f</text><text x="-53.232" y="64.097" font-family="cmr10" font-size="10" transform="translate(117.337 -75.158)">(</text><text x="-49.343" y="64.097" font-family="cmmi10" font-size="10" transform="translate(117.337 -75.158)">x</text><text x="-43.628" y="64.097" font-family="cmr10" font-size="10" transform="translate(117.337 -75.158)">)</text><text x="-36.961" y="64.097" font-family="cmr10" font-size="10" transform="translate(117.337 -75.158)">=</text><text x="-23.213" y="60.16" font-family="cmr7" font-size="7" transform="translate(117.337 -75.158)">1</text><path d="M92.131-13.76h7.972v.4h-7.972z"/><text x="-25.206" y="67.546" font-family="cmr7" font-size="7" transform="translate(117.337 -75.158)">20</text><text x="-16.034" y="64.097" font-family="cmr10" font-size="10" transform="translate(117.337 -75.158)">e</text><text x="-11.589" y="60.468" font-family="cmmi7" font-size="7" transform="translate(117.337 -75.158)">x</text></g></g></g><g stroke="#000" stroke-miterlimit="10" stroke-width=".4"><g stroke="none"><g stroke="none"><text x="221.259" y="-99.57" font-family="cmmi10" font-size="10" transform="translate(-77.6 62.83)">A</text><text x="228.759" y="-103.199" font-family="cmsy7" font-size="7" transform="translate(-77.6 62.83)">0</text></g><g stroke="none"><text x="305.359" y="-99.57" font-family="cmmi10" font-size="10" transform="translate(-77.893 62.83)">B</text><text x="313.446" y="-103.199" font-family="cmsy7" font-size="7" transform="translate(-77.893 62.83)">0</text></g><text x="263.135" y="-60.417" stroke="none" font-family="cmmi10" font-size="10" transform="translate(-76.197 62.83)">A</text><text x="347.93" y="-60.417" stroke="none" font-family="cmmi10" font-size="10" transform="translate(-76.49 62.83)">B</text><g stroke="none"><text x="221.259" y="-20.58" font-family="cmmi10" font-size="10" transform="translate(-77.781 62.83)">C</text><text x="229.121" y="-24.209" font-family="cmsy7" font-size="7" transform="translate(-77.781 62.83)">0</text></g><g stroke="none"><text x="305.359" y="-20.58" font-family="cmmi10" font-size="10" transform="translate(-78.128 62.83)">D</text><text x="313.916" y="-24.209" font-family="cmsy7" font-size="7" transform="translate(-78.128 62.83)">0</text></g><text x="263.135" y="18.573" stroke="none" font-family="cmmi10" font-size="10" transform="translate(-76.378 62.83)">C</text><text x="347.93" y="18.573" stroke="none" font-family="cmmi10" font-size="10" transform="translate(-76.726 62.83)">D</text></g><path fill="none" d="M158.47-39.24h64.09"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" d="M220.68-41.64c.38 1.44 1.227 2.12 2.08 2.4-.853.28-1.7.96-2.08 2.4"/><g stroke="none"><text x="211.619" y="18.573" font-family="cmmi7" font-size="7" transform="translate(-24.599 -61.526)">f</text><text x="216.303" y="15.555" font-family="cmsy5" font-size="5" transform="translate(-24.599 -61.526)">0</text></g><path fill="none" d="m155.611-32.88 26.53 24.806"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width=".399988" d="M182.406-11.11c-.706 1.31-.551 2.386-.12 3.173-.814-.378-1.897-.46-3.158.332"/><text x="211.619" y="18.573" stroke="none" font-family="cmmi7" font-size="7" transform="translate(-49.288 -33.546)">a</text><path fill="none" d="M148.812-32.88v63.353"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" d="M151.212 28.593c-1.44.38-2.12 1.227-2.4 2.08-.28-.853-.96-1.7-2.4-2.08"/><g stroke="none"><text x="211.619" y="18.573" font-family="cmmi7" font-size="7" transform="translate(-72.018 -17.36)">g</text><text x="215.772" y="15.555" font-family="cmsy5" font-size="5" transform="translate(-72.018 -17.36)">0</text></g><path fill="none" d="M232.912-32.88v63.353"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" d="M235.311 28.593c-1.44.38-2.12 1.227-2.4 2.08-.28-.853-.96-1.7-2.4-2.08"/><g stroke="none"><text x="211.619" y="18.573" font-family="cmmi7" font-size="7" transform="translate(11.553 -32.617)">h</text><text x="216.301" y="15.555" font-family="cmsy5" font-size="5" transform="translate(11.553 -32.617)">0</text></g><path fill="none" d="m239.825-32.88 26.814 24.662"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width=".39997600000000005" d="M266.88-11.257c-.695 1.317-.532 2.391-.094 3.175-.817-.372-1.9-.445-3.155.358"/><text x="211.619" y="18.573" stroke="none" font-family="cmmi7" font-size="7" transform="translate(44.113 -41.34)">b</text><path fill="none" stroke="#fff" stroke-width="6.458" d="M198.944-.087h67.99"/><path fill="none" d="M198.944-.087h67.59"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" d="M264.654-2.487c.38 1.44 1.226 2.12 2.08 2.4-.854.28-1.7.96-2.08 2.4"/><text x="211.619" y="18.573" stroke="none" font-family="cmmi7" font-size="7" transform="translate(1.98 -22.374)">f</text><path fill="none" d="M275.482 6.273V70.31"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" d="M277.882 68.43c-1.44.38-2.12 1.227-2.4 2.08-.28-.853-.96-1.7-2.4-2.08"/><text x="211.619" y="18.573" stroke="none" font-family="cmmi7" font-size="7" transform="translate(66.216 22.35)">h</text><path fill="none" d="M158.651 39.75h63.674"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" d="M220.445 37.35c.38 1.44 1.227 2.12 2.08 2.4-.853.28-1.7.96-2.08 2.4"/><g stroke="none"><text x="211.619" y="18.573" font-family="cmmi7" font-size="7" transform="translate(-8.475 18.825)">k</text><text x="216.039" y="15.555" font-family="cmsy5" font-size="5" transform="translate(-8.475 18.825)">0</text></g><path fill="none" d="m155.61 46.11 26.35 24.637"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width=".399988" d="M182.225 67.71c-.706 1.312-.552 2.387-.12 3.174-.814-.378-1.897-.46-3.158.332"/><text x="211.619" y="18.573" stroke="none" font-family="cmmi7" font-size="7" transform="translate(-48.615 45.359)">c</text><path fill="none" d="m239.823 46.11 26.581 24.446"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width=".39998" d="M266.645 67.517c-.695 1.317-.532 2.391-.094 3.175-.817-.372-1.9-.445-3.155.358"/><text x="211.619" y="18.573" stroke="none" font-family="cmmi7" font-size="7" transform="translate(35.126 47.11)">d</text><path fill="none" d="M199.125 78.903h67.173"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" d="M264.419 76.503c.38 1.44 1.226 2.12 2.08 2.4-.854.28-1.7.96-2.08 2.4"/><text x="211.619" y="18.573" stroke="none" font-family="cmmi7" font-size="7" transform="translate(19.082 57.978)">k</text><path fill="none" stroke="#fff" stroke-width="6.458" d="M190.688 70.71V6.273"/><path fill="none" d="M190.688 70.31V6.273"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" d="M193.088 68.43c-1.44.38-2.12 1.227-2.4 2.08-.28-.853-.96-1.7-2.4-2.08"/><text x="211.619" y="18.573" stroke="none" font-family="cmmi7" font-size="7" transform="translate(-27.436 4.636)">g</text></g></svg></span></p>
<details>
<summary>
如果你的阅读器看不到上面的 SVG 格式图片，可以点这里查看 <a href="https://prinsss.github.io/graphics-with-tikz-in-hexo/example-tikz-graph.png">PNG</a> 格式。
</summary>
<img src="/graphics-with-tikz-in-hexo/example-tikz-graph.png" srcset="/images/loading.jpg" data-srcset="/graphics-with-tikz-in-hexo/example-tikz-graph.png" alt="example-tikz-graph">
</details>
<p>上面的图对应的 Ti<em>k</em>Z 代码可以在<a target="_blank" rel="noopener" href="https://github.com/prinsss/node-tikzjax/tree/main/demo">这里</a>找到。然而画是画爽了，想把它贴到博客里时却犯了难——目前竟然没有什么好办法可以直接在博客里使用 Ti<em>k</em>Z！</p>
<span id="more"></span>
<h2 id="tldr"><a href="#tldr" class="headerlink" title="TL;DR"></a>TL;DR</h2>
<p>咱们废话不多说，直接上结果：我写了一个 Hexo 插件，可以直接把 Markdown 源码里的 Ti<em>k</em>Z 代码渲染成 SVG 矢量图，然后在博客构建时嵌入到页面 HTML 中，用起来就和 MathJax 写数学公式一样简单。</p>
<p>而且最重要的是渲染完全在构建时完成，浏览器上无需运行任何 JavaScript。同时构建机上也无需安装 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.488ex;" xmlns="http://www.w3.org/2000/svg" width="4.672ex" height="2.033ex" role="img" focusable="false" viewBox="0 -683 2065 898.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mspace" transform="translate(704,0)"></g><g data-mml-node="mpadded" transform="translate(564,0)"><g transform="translate(0,-215.5)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path></g></g></g></g><g data-mml-node="mspace" transform="translate(1328,0)"></g><g data-mml-node="mi" transform="translate(1213,0)"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g></g></g></svg></mjx-container></span> 环境，因为其底层运行的是 WebAssembly。</p>
<p>👉 <a target="_blank" rel="noopener" href="https://github.com/prinsss/hexo-filter-tikzjax">prinsss/hexo-filter-tikzjax: Server side PGF/TikZ renderer plugin for Hexo.</a></p>
<pre><code>npm install hexo-filter-tikzjax</code></pre>
<p><strong>注意：插件安装成功后，需要运行 <code>hexo clean</code> 清除已有的缓存。</strong></p>
<p>安装插件后，只需要在博客文章中添加 Ti<em>k</em>Z 代码块：</p>
<!-- Here is a zero-width space to escape. -->
<pre class="markdown"><code>---
title: '使用 TikZ 在 Hexo 博客中愉快地画图'
tikzjax: true
---

Markdown text here...

```​​tikz
\begin{document}
  \begin{tikzpicture}
    % Your TikZ code here...
    % The graph below is from https://tikz.dev/library-3d
  \end{tikzpicture}
\end{document}
```</code></pre>
<p>插件就会自动把代码渲染成对应的图片，非常方便：</p>
<p><span class="tikzjax"><svg xmlns="http://www.w3.org/2000/svg" width="524.394" height="141.583" viewBox="-72 -72 393.296 106.187"><g stroke="#000" stroke-miterlimit="10" stroke-width=".4"><g fill="#00f"><path fill-opacity=".2" stroke-width=".8" d="M-35.387 7.224c9.133-16.176 17.874-31.6 28.016-33.388C2.771-27.953 11.512-15.611 20.646-2.656 29.779 10.3 38.52 22.641 48.662 20.853S67.545 3.64 76.678-12.535c9.134-16.176 17.875-31.6 28.017-33.389 10.142-1.788 18.883 10.554 28.016 23.509 9.134 12.955 17.875 25.297 28.017 23.509s18.883-17.213 28.016-33.389c9.133-16.175 17.874-31.6 28.016-33.388s18.883 10.554 28.017 23.509c9.133 12.955 17.874 25.297 28.016 23.508 10.142-1.788 18.883-17.212 28.017-33.388"/><g fill="none"><path d="M-21.38 4.754v-20.116M-7.37 2.284v-28.448M6.637-.186v-20.116M34.654-5.126V14.99M48.662-7.596v28.449M62.67-10.066v20.117"/></g><g fill="none"><path d="M90.687-15.005v-20.116M104.695-17.475v-28.449M118.703-19.945v-20.116M146.72-24.885v20.116M160.728-27.355V1.094M174.736-29.825v20.116"/></g><g fill="none"><path d="M202.752-34.765V-54.88M216.76-37.234v-28.449M230.769-39.704V-59.82M258.785-44.644v20.116M272.793-47.114v28.448M286.802-49.584v20.116"/></g><g fill="#000" stroke="none" font-family="cmr10" font-size="10"><text x="-35.387" y="7.224" transform="matrix(.98466 -.17361 0 .99985 137.469 14.696)">magnetic</text><text x="7.391" y="7.224" transform="matrix(.98466 -.17361 0 .99985 137.469 14.696)">¯eld</text></g></g><g fill="red"><path fill="none" stroke="gray" stroke-width=".2" d="M-55.503-12.892 280.694-72.17M-45.446-2.834l336.198-59.278M-35.388 7.224 300.81-52.054M-25.33 17.282l336.198-59.278M-15.275 27.336 320.922-31.94M-55.503-12.892l40.232 40.232m-12.216-45.172L12.745 22.4M.53-22.772 40.762 17.46M28.546-27.712 68.778 12.52M56.562-32.652 96.794 7.581M84.58-37.591 124.81 2.64m-12.216-45.172L152.827-2.3m-12.215-45.172 40.232 40.232M168.628-52.41l40.232 40.232M196.644-57.35l40.233 40.233M224.66-62.29l40.232 40.232M252.677-67.23l40.232 40.232m-12.225-45.17 40.232 40.232m.01-.002"/><path fill-opacity=".2" stroke-width=".8" d="M-35.387 7.224c14.283 3.539 27.932 6.906 38.074 5.118S16.662 4.104 20.646-2.656s7.816-13.21 17.958-14.998 23.791 1.58 38.074 5.119 27.933 6.906 38.075 5.118 13.974-8.238 17.958-14.998 7.817-13.21 17.959-14.998 23.79 1.58 38.074 5.118c14.283 3.54 27.932 6.907 38.074 5.119s13.975-8.238 17.959-14.998 7.816-13.21 17.958-14.998 23.791 1.579 38.075 5.118"/><g fill="none"><path d="m-21.38 4.754 7.113 7.112M-7.37 2.284 2.686 12.342M6.637-.186l7.112 7.112M34.654-5.126l-7.112-7.112M48.662-7.596 38.604-17.654M62.67-10.066l-7.112-7.112"/></g><g fill="none"><path d="m90.687-15.005 7.112 7.112M104.695-17.475l10.058 10.058M118.703-19.945l7.112 7.112M146.72-24.885l-7.113-7.112M160.728-27.355 150.67-37.413M174.736-29.825l-7.112-7.112"/></g><g fill="none"><path d="m202.752-34.765 7.112 7.113M216.76-37.234l10.059 10.058M230.769-39.704l7.112 7.112M258.785-44.644l-7.112-7.112M272.793-47.114l-10.058-10.058M286.802-49.584l-7.113-7.112"/></g><g fill="#000" stroke="none" font-family="cmr10" font-size="10"><text x="-35.387" y="7.224" transform="matrix(.98466 -.17361 .3535 .3535 155.319 -10.214)">electric</text><text x="-.915" y="7.224" transform="matrix(.98466 -.17361 .3535 .3535 155.319 -10.214)">¯eld</text></g></g></g></svg></span></p>
<h2 id="tikz-教程"><a href="#tikz-教程" class="headerlink" title="TikZ 教程"></a>Ti<em>k</em>Z 教程</h2>
<p>不做过多介绍。贴几个链接，有兴趣的可以学学：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/48300815">[LaTeX 绘图指南 - 001] TikZ 的简介、资源以及学习方法 - 知乎</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Hansimov/pgfmanual-zh">Hansimov/pgfmanual-zh: PGF/TikZ 中文手册</a></li>
<li><a target="_blank" rel="noopener" href="https://tikz.dev/">PGF/TikZ Manual - Complete Online Documentation</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/xiaohanyu/awesome-tikz">xiaohanyu/awesome-tikz: A curated list of awesome TikZ documentations, libraries and resources</a></li>
</ul>
<p>比如这就是我在写文章时画的图，全部用 Ti<em>k</em>Z 代码生成，画起来改起来都很方便。</p>
<p><span class="tikzjax"><svg xmlns="http://www.w3.org/2000/svg" width="222.435" height="223.148" viewBox="-72 -72 166.826 167.361"><g stroke="#000" stroke-miterlimit="10" stroke-width=".4" transform="matrix(1 0 0 -1 4.952 17.868)"><path fill="none" stroke="gray" stroke-width=".2" d="M-68.287-42.679H68.287M-68.287 0H68.287M-68.287 42.68H68.287M-42.68-68.288V68.287M0-68.287V68.287M42.68-68.287V68.287m25.607 0"/><text x="4.952" y="17.868" stroke="none" font-family="cmmi10" font-size="10" transform="matrix(1 0 0 -1 -16.391 7.502)">O</text><g fill="gray" stroke="gray" stroke-width=".8"><path fill="none" d="M-76.823 0H76.113"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width=".64" d="M74.553 2.08c.13-.78 1.56-1.95 1.95-2.08-.39-.13-1.82-1.3-1.95-2.08"/><text x="4.952" y="17.868" fill="gray" stroke="none" font-family="cmmi10" font-size="10" transform="matrix(1 0 0 -1 75.603 15.716)">x</text></g><g fill="gray" stroke="gray" stroke-width=".8"><path fill="none" d="M0-76.823V76.113"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width=".64" d="M-2.08 74.553c.78.13 1.95 1.56 2.08 1.95.13-.39 1.3-1.82 2.08-1.95"/><text x="4.952" y="17.868" fill="gray" stroke="none" font-family="cmmi10" font-size="10" transform="matrix(1 0 0 -1 -7.583 100.368)">y</text></g><path fill="none" stroke-dasharray="0.8,2.0" stroke-width=".8" d="M0 42.68h42.68V0"/><g stroke-dasharray="0.8,2.0" stroke-width=".8"><path fill="none" d="m0 0-21.34 36.961 36.962 21.34 21.34-36.961Zm15.622 58.3"/><g stroke="none"><text x="4.952" y="17.868" font-family="cmr10" font-size="10" transform="matrix(1 0 0 -1 14.402 72.333)">1</text><text x="9.809" y="15.396" font-family="cmmi10" font-size="10" transform="matrix(1 0 0 -1 14.402 72.333)">~</text><text x="9.953" y="17.868" font-family="cmmi10" font-size="10" transform="matrix(1 0 0 -1 14.402 72.333)">i</text><text x="13.398" y="14.98" font-family="cmsy7" font-size="7" transform="matrix(1 0 0 -1 14.402 72.333)">0</text><text x="18.425" y="17.868" font-family="cmr10" font-size="10" transform="matrix(1 0 0 -1 14.402 72.333)">+</text><text x="28.425" y="17.868" font-family="cmr10" font-size="10" transform="matrix(1 0 0 -1 14.402 72.333)">1</text><text x="33.904" y="15.396" font-family="cmmi10" font-size="10" transform="matrix(1 0 0 -1 14.402 72.333)">~</text><text x="33.425" y="17.868" font-family="cmmi10" font-size="10" transform="matrix(1 0 0 -1 14.402 72.333)">j</text><text x="38.116" y="14.98" font-family="cmsy7" font-size="7" transform="matrix(1 0 0 -1 14.402 72.333)">0</text></g></g><g fill="#0f0" stroke="#0f0" stroke-width="1.2"><path fill="none" d="m0 0 35.874 20.857"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width=".9599616" d="M32.928 22.105c.62-.75 2.866-1.11 3.361-1.007-.334-.38-1.132-2.509-.788-3.419"/><g fill="#0f0" stroke="none"><text x="4.809" y="15.396" font-family="cmmi10" font-size="10" transform="matrix(1 0 0 -1 35.685 34.4)">~</text><text x="4.952" y="17.868" font-family="cmmi10" font-size="10" transform="matrix(1 0 0 -1 35.685 34.4)">i</text><text x="8.398" y="14.98" font-family="cmsy7" font-size="7" transform="matrix(1 0 0 -1 35.685 34.4)">0</text></g></g><g fill="#ff8000" stroke="#ff8000" stroke-width="1.2"><path fill="none" d="m0 0-20.857 35.874"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width=".9599616" d="M-22.105 32.928c.75.62 1.11 2.866 1.007 3.361.38-.334 2.509-1.132 3.419-.788"/><g fill="#ff8000" stroke="none"><text x="5.431" y="15.396" font-family="cmmi10" font-size="10" transform="matrix(1 0 0 -1 -37.721 50.736)">~</text><text x="4.952" y="17.868" font-family="cmmi10" font-size="10" transform="matrix(1 0 0 -1 -37.721 50.736)">j</text><text x="9.643" y="14.98" font-family="cmsy7" font-size="7" transform="matrix(1 0 0 -1 -37.721 50.736)">0</text></g></g><clipPath id="pgf3f2fe79b71a66d3b8dda3c5a2f93488bcp1"><path d="m0 0 36.704 21.34L42.68 0"/></clipPath><g clip-path="url(#pgf3f2fe79b71a66d3b8dda3c5a2f93488bcp1)"><path fill="red" fill-opacity=".5" stroke="#000" stroke-opacity=".5" d="M17.071 0c0 9.428-7.643 17.071-17.071 17.071S-17.071 9.428-17.071 0-9.428-17.071 0-17.071 17.071-9.428 17.071 0ZM0 0"/></g><text x="4.952" y="17.868" stroke="none" font-family="cmmi10" font-size="10" transform="matrix(1 0 0 -1 15.652 22.329)">Á</text></g></svg></span></p>
<p><span class="math display"><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -2.149ex;" xmlns="http://www.w3.org/2000/svg" width="25.965ex" height="5.43ex" role="img" focusable="false" viewBox="0 -1450 11476.5 2400"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mtable"><g data-mml-node="mtr"><g data-mml-node="mtd"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D40C" d="M314 0Q296 3 181 3T48 0H39V62H147V624H39V686H305Q316 679 323 667Q330 653 434 414L546 157L658 414Q766 662 773 674Q778 681 788 686H1052V624H944V62H1052V0H1040Q1016 3 874 3T708 0H696V62H804V341L803 618L786 580Q770 543 735 462T671 315Q540 13 536 9Q528 1 507 1Q485 1 477 9Q472 14 408 162T281 457T217 603Q215 603 215 334V62H323V0H314Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(1125,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(451,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(936,0)"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></g><g data-mml-node="mi" transform="translate(1297,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mi" transform="translate(1826,0)"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></g><g data-mml-node="mi" transform="translate(2187,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g></g></g></g><g data-mml-node="mtd" transform="translate(3051,0)"><g data-mml-node="mi"></g><g data-mml-node="mo" transform="translate(277.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mrow" transform="translate(1333.6,0)"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="5B" d="M247 -949V1450H516V1388H309V-887H516V-949H247Z"></path></g><g data-mml-node="mtable" transform="translate(528,0)"><g data-mml-node="mtr" transform="translate(0,700)"><g data-mml-node="mtd"><g data-mml-node="mi"><path data-c="63" d="M370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320Z"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(444,0)"></path><path data-c="73" d="M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z" transform="translate(944,0)"></path></g><g data-mml-node="mo" transform="translate(1338,0)"><path data-c="2061" d=""></path></g><g data-mml-node="mi" transform="translate(1504.7,0)"><path data-c="1D719" d="M409 688Q413 694 421 694H429H442Q448 688 448 686Q448 679 418 563Q411 535 404 504T392 458L388 442Q388 441 397 441T429 435T477 418Q521 397 550 357T579 260T548 151T471 65T374 11T279 -10H275L251 -105Q245 -128 238 -160Q230 -192 227 -198T215 -205H209Q189 -205 189 -198Q189 -193 211 -103L234 -11Q234 -10 226 -10Q221 -10 206 -8T161 6T107 36T62 89T43 171Q43 231 76 284T157 370T254 422T342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53T203 35T237 27H244L337 404Q333 404 326 403T297 395T255 379T211 350T170 304Q152 276 137 237Q122 191 122 150ZM500 282Q500 320 484 347T444 385T405 400T381 404H378L332 217L284 29Q284 27 285 27Q293 27 317 33T357 47Q400 66 431 100T475 170T494 234T500 282Z"></path></g></g><g data-mml-node="mtd" transform="translate(3100.7,0)"><g data-mml-node="mo"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mi" transform="translate(944.7,0)"><path data-c="73" d="M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z"></path><path data-c="69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z" transform="translate(394,0)"></path><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(672,0)"></path></g><g data-mml-node="mo" transform="translate(2172.7,0)"><path data-c="2061" d=""></path></g><g data-mml-node="mi" transform="translate(2339.3,0)"><path data-c="1D719" d="M409 688Q413 694 421 694H429H442Q448 688 448 686Q448 679 418 563Q411 535 404 504T392 458L388 442Q388 441 397 441T429 435T477 418Q521 397 550 357T579 260T548 151T471 65T374 11T279 -10H275L251 -105Q245 -128 238 -160Q230 -192 227 -198T215 -205H209Q189 -205 189 -198Q189 -193 211 -103L234 -11Q234 -10 226 -10Q221 -10 206 -8T161 6T107 36T62 89T43 171Q43 231 76 284T157 370T254 422T342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53T203 35T237 27H244L337 404Q333 404 326 403T297 395T255 379T211 350T170 304Q152 276 137 237Q122 191 122 150ZM500 282Q500 320 484 347T444 385T405 400T381 404H378L332 217L284 29Q284 27 285 27Q293 27 317 33T357 47Q400 66 431 100T475 170T494 234T500 282Z"></path></g></g></g><g data-mml-node="mtr" transform="translate(0,-700)"><g data-mml-node="mtd" transform="translate(55,0)"><g data-mml-node="mi"><path data-c="73" d="M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z"></path><path data-c="69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z" transform="translate(394,0)"></path><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(672,0)"></path></g><g data-mml-node="mo" transform="translate(1228,0)"><path data-c="2061" d=""></path></g><g data-mml-node="mi" transform="translate(1394.7,0)"><path data-c="1D719" d="M409 688Q413 694 421 694H429H442Q448 688 448 686Q448 679 418 563Q411 535 404 504T392 458L388 442Q388 441 397 441T429 435T477 418Q521 397 550 357T579 260T548 151T471 65T374 11T279 -10H275L251 -105Q245 -128 238 -160Q230 -192 227 -198T215 -205H209Q189 -205 189 -198Q189 -193 211 -103L234 -11Q234 -10 226 -10Q221 -10 206 -8T161 6T107 36T62 89T43 171Q43 231 76 284T157 370T254 422T342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53T203 35T237 27H244L337 404Q333 404 326 403T297 395T255 379T211 350T170 304Q152 276 137 237Q122 191 122 150ZM500 282Q500 320 484 347T444 385T405 400T381 404H378L332 217L284 29Q284 27 285 27Q293 27 317 33T357 47Q400 66 431 100T475 170T494 234T500 282Z"></path></g></g><g data-mml-node="mtd" transform="translate(3518,0)"><g data-mml-node="mi"><path data-c="63" d="M370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320Z"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(444,0)"></path><path data-c="73" d="M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z" transform="translate(944,0)"></path></g><g data-mml-node="mo" transform="translate(1338,0)"><path data-c="2061" d=""></path></g><g data-mml-node="mi" transform="translate(1504.7,0)"><path data-c="1D719" d="M409 688Q413 694 421 694H429H442Q448 688 448 686Q448 679 418 563Q411 535 404 504T392 458L388 442Q388 441 397 441T429 435T477 418Q521 397 550 357T579 260T548 151T471 65T374 11T279 -10H275L251 -105Q245 -128 238 -160Q230 -192 227 -198T215 -205H209Q189 -205 189 -198Q189 -193 211 -103L234 -11Q234 -10 226 -10Q221 -10 206 -8T161 6T107 36T62 89T43 171Q43 231 76 284T157 370T254 422T342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53T203 35T237 27H244L337 404Q333 404 326 403T297 395T255 379T211 350T170 304Q152 276 137 237Q122 191 122 150ZM500 282Q500 320 484 347T444 385T405 400T381 404H378L332 217L284 29Q284 27 285 27Q293 27 317 33T357 47Q400 66 431 100T475 170T494 234T500 282Z"></path></g></g></g></g><g data-mml-node="mo" transform="translate(6564,0) translate(0 -0.5)"><path data-c="5D" d="M11 1388V1450H280V-949H11V-887H218V1388H11Z"></path></g></g></g></g></g></g></g></svg></mjx-container></span></p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2>
<p>在本插件之前，主流的在网页上渲染 Ti<em>k</em>Z 绘图的方式是使用 <a target="_blank" rel="noopener" href="https://tikzjax.com">Ti<em>k</em>ZJax</a>。Ti<em>k</em>ZJax 有点类似 <a target="_blank" rel="noopener" href="https://www.mathjax.org">MathJax</a>，都是通过 JavaScript 去渲染 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.488ex;" xmlns="http://www.w3.org/2000/svg" width="4.672ex" height="2.033ex" role="img" focusable="false" viewBox="0 -683 2065 898.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mspace" transform="translate(704,0)"></g><g data-mml-node="mpadded" transform="translate(564,0)"><g transform="translate(0,-215.5)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path></g></g></g></g><g data-mml-node="mspace" transform="translate(1328,0)"></g><g data-mml-node="mi" transform="translate(1213,0)"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g></g></g></svg></mjx-container></span> 语法。</p>
<pre class="html"><code>&lt;link rel="stylesheet" type="text/css" href="https://tikzjax.com/v1/fonts.css"&gt;
&lt;script src="https://tikzjax.com/v1/tikzjax.js"&gt;&lt;/script&gt;

&lt;script type="text/tikz"&gt;
  \begin{tikzpicture}
    \draw (0,0) circle (1in);
  \end{tikzpicture}
&lt;/script&gt;</code></pre>
<p>然而这样做的问题是，太重了。在网页上动态加载 Ti<em>k</em>ZJax，需要加载 955KB 的 JavaScript + 454KB 的 WebAssembly + 1.1MB 的内存数据，如果再<a target="_blank" rel="noopener" href="https://github.com/artisticat1/tikzjax/tree/output-single-file/tex_files">另外安装一些宏包</a>，最终打包产物大小甚至可以达到 5MB+。</p>
<p>对于一些有加载性能要求的网站，这显然是难以接受的。</p>
<p>那怎么办呢？答案就是 <abbr title="Server Side Rendering">SSR</abbr> / <abbr title="Static Site Generation">SSG</abbr>，把渲染过程搬到服务端/构建时去做。这很适合博客这样的场景，尤其是静态博客，只需要构建时渲染一下，把生成的图片塞到 HTML 里就完事了，完全不需要客户端 JavaScript 参与，加载速度大幅提升。</p>
<p>因为 Ti<em>k</em>ZJax 底层跑的是 WebAssembly，而 Node.js 也支持运行 <a target="_blank" rel="noopener" href="https://nodejs.org/en/learn/getting-started/nodejs-with-webassembly">WebAssembly</a>，所以很自然地我就想，能不能把它的渲染流程直接搬到 Node.js 里面去做？</p>
<p>说干就干。于是就有了 <a target="_blank" rel="noopener" href="https://github.com/prinsss/node-tikzjax">node-tikzjax</a>，一个 Ti<em>k</em>ZJax 的移植版，可以在纯 Node.js 环境下运行，无需安装第三方依赖或者 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.488ex;" xmlns="http://www.w3.org/2000/svg" width="4.672ex" height="2.033ex" role="img" focusable="false" viewBox="0 -683 2065 898.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mspace" transform="translate(704,0)"></g><g data-mml-node="mpadded" transform="translate(564,0)"><g transform="translate(0,-215.5)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path></g></g></g></g><g data-mml-node="mspace" transform="translate(1328,0)"></g><g data-mml-node="mi" transform="translate(1213,0)"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g></g></g></svg></mjx-container></span> 环境。轻量化的特性很适合拿来做服务端渲染，也支持在 Cloudflare Worker 等 Runtime 上运行，非常好用。</p>
<p><a target="_blank" rel="noopener" href="https://github.com/prinsss/hexo-filter-tikzjax">hexo-filter-tikzjax</a> 则是 node-tikzjax 的一个上层封装，主要就是在渲染 Hexo 博客文章时提取 Markdown 源码中的 Ti<em>k</em>Z 代码，交给 node-tikzjax 执行并渲染出 SVG 图片，然后将其内联插入到最终的 HTML 文件中。</p>
<p>如果是其他博客框架，也可以用类似的原理实现 Ti<em>k</em>Z 静态渲染的接入。</p>
<h2 id="局限性"><a href="#局限性" class="headerlink" title="局限性"></a>局限性</h2>
<p>因为 <a target="_blank" rel="noopener" href="https://github.com/prinsss/node-tikzjax">node-tikzjax</a> 并不是完整的 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.488ex;" xmlns="http://www.w3.org/2000/svg" width="4.672ex" height="2.033ex" role="img" focusable="false" viewBox="0 -683 2065 898.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mspace" transform="translate(704,0)"></g><g data-mml-node="mpadded" transform="translate(564,0)"><g transform="translate(0,-215.5)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path></g></g></g></g><g data-mml-node="mspace" transform="translate(1328,0)"></g><g data-mml-node="mi" transform="translate(1213,0)"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g></g></g></svg></mjx-container></span> 环境，所以不是所有宏包都可以使用。目前支持在 <code>\usepackage{}</code> 中直接使用的宏包有：</p>
<ul>
<li>chemfig</li>
<li>tikz-cd</li>
<li>circuitikz</li>
<li>pgfplots</li>
<li>array</li>
<li>amsmath</li>
<li>amstext</li>
<li>amsfonts</li>
<li>amssymb</li>
<li>tikz-3dplot</li>
</ul>
<p>如果希望添加其他宏包，可以参考 <a target="_blank" rel="noopener" href="https://github.com/prinsss/node-tikzjax/blob/v1.0.3/src/bootstrap.ts#L182">extractTexFilesToMemory</a> 这里的代码添加。</p>
<p>如果在使用插件的过程中 Ti<em>k</em>Z 代码编译失败了，可以通过 <code>hexo s --debug</code> 或者 <code>hexo g --debug</code> 开启调试模式，查看 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.488ex;" xmlns="http://www.w3.org/2000/svg" width="4.672ex" height="2.033ex" role="img" focusable="false" viewBox="0 -683 2065 898.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mspace" transform="translate(704,0)"></g><g data-mml-node="mpadded" transform="translate(564,0)"><g transform="translate(0,-215.5)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path></g></g></g></g><g data-mml-node="mspace" transform="translate(1328,0)"></g><g data-mml-node="mi" transform="translate(1213,0)"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g></g></g></svg></mjx-container></span> 引擎的输出排查问题：</p>
<pre class="plaintext"><code>This is e-TeX, Version 3.14159265-2.6 (preloaded format=latex 2022.5.1)
**entering extended mode
(input.tex
LaTeX2e &lt;2020-02-02&gt; patch level 2
("tikz-cd.sty" (tikzlibrarycd.code.tex (tikzlibrarymatrix.code.tex)
(tikzlibraryquotes.code.tex) (pgflibraryarrows.meta.code.tex)))
No file input.aux.
ABD: EveryShipout initializing macros [1] [2] (input.aux) )
Output written on input.dvi (2 pages, 25300 bytes).
Transcript written on input.log.</code></pre>
<p>或者也可以在这个 <a target="_blank" rel="noopener" href="https://stackblitz.com/edit/node-tikzjax">Live Demo</a> 中输入你的 Ti<em>k</em>Z 代码，提交后可在控制台查看报错。</p>
<h2 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h2>
<p>首先要感谢 <span class="citation" data-cites="kisonecat">@kisonecat</span> 开发的 <a target="_blank" rel="noopener" href="https://github.com/kisonecat/web2js">web2js</a> 项目，这是一个 Pascal 到 WebAssembly 的编译器，使我们可以在 JavaScript 中运行 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.488ex;" xmlns="http://www.w3.org/2000/svg" width="4.672ex" height="2.033ex" role="img" focusable="false" viewBox="0 -683 2065 898.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mspace" transform="translate(704,0)"></g><g data-mml-node="mpadded" transform="translate(564,0)"><g transform="translate(0,-215.5)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path></g></g></g></g><g data-mml-node="mspace" transform="translate(1328,0)"></g><g data-mml-node="mi" transform="translate(1213,0)"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g></g></g></svg></mjx-container></span> 引擎，也是下面所有项目的基石。</p>
<p>这里有作者关于构建基于 Web 的 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.488ex;" xmlns="http://www.w3.org/2000/svg" width="4.672ex" height="2.033ex" role="img" focusable="false" viewBox="0 -683 2065 898.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mspace" transform="translate(704,0)"></g><g data-mml-node="mpadded" transform="translate(564,0)"><g transform="translate(0,-215.5)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path></g></g></g></g><g data-mml-node="mspace" transform="translate(1328,0)"></g><g data-mml-node="mi" transform="translate(1213,0)"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g></g></g></svg></mjx-container></span> 引擎的一篇文章，可以拜读一下：<a target="_blank" rel="noopener" href="https://www.tug.org/TUGboat/tb40-1/tb124fowler-js.pdf">Both TEX and DVI viewers inside the web browser</a>。</p>
<p>感谢 <span class="citation" data-cites="drgrice1">@drgrice1</span> 对 Ti<em>k</em>ZJax 和 dvi2html 的修改，TA 的 <a target="_blank" rel="noopener" href="https://github.com/drgrice1/tikzjax/tree/ww-modifications">fork</a> 中包含了很多有用的新功能，并且修复了一些原始代码中的问题。</p>
<p>感谢 <span class="citation" data-cites="artisticat1">@artisticat1</span> 对 Ti<em>k</em>ZJax 的修改，这是基于上述 <span class="citation" data-cites="drgrice1">@drgrice1</span> 的 fork 的又一个 <a target="_blank" rel="noopener" href="https://github.com/artisticat1/tikzjax/tree/output-single-file">fork</a>，也添加了一些有用的功能。本插件依赖的 node-tikzjax，其底层使用的 WebAssembly 二进制和其他文件就是从这个仓库中获取的。</p>
<p>感谢 <span class="citation" data-cites="artisticat1">@artisticat1</span> 开发的 <a target="_blank" rel="noopener" href="https://github.com/artisticat1/obsidian-tikzjax">obsidian-tikzjax</a> 插件，这是本项目的灵感来源。本项目和该插件底层共享同一套 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.488ex;" xmlns="http://www.w3.org/2000/svg" width="4.672ex" height="2.033ex" role="img" focusable="false" viewBox="0 -683 2065 898.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mspace" transform="translate(704,0)"></g><g data-mml-node="mpadded" transform="translate(564,0)"><g transform="translate(0,-215.5)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path></g></g></g></g><g data-mml-node="mspace" transform="translate(1328,0)"></g><g data-mml-node="mi" transform="translate(1213,0)"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g></g></g></svg></mjx-container></span> 引擎，使用语法也很类似，基本可以在 Obsidian 和 Hexo 之间无缝切换（实际上也是我开发这个的原因 😹）。</p>
<p>如有任何问题，请在 GitHub 上提交 <a target="_blank" rel="noopener" href="https://github.com/prinsss/hexo-filter-tikzjax/issues">issue</a>。祝使用愉快！</p>
</div>
    <div class="post-copyright"><p>除另有声明外，本博客文章均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by/4.0/">知识共享(Creative Commons) 署名 4.0 国际许可协议</a> 进行许可。转载请注明原作者与文章出处。</p></div>
  </article>

  
    <nav class="post-nav">
      
      <div class="post-nav-item post-nav-prev">上一篇：
        <a href="/react-unstable-nested-components/">真的不可以在 React 组件内部嵌套定义子组件吗？</a>
      </div>
      
      
      <div class="post-nav-item post-nav-next">下一篇：
        <a href="/pixijs-filter-coordinate-systems/">详解 PixiJS Filter 中的参数与坐标系</a>
      </div>
      
    </nav>
  

  
    


<script src="https://giscus.app/client.js"
  data-repo="prinsss/prinsss.github.io"
  data-repo-id="MDEwOlJlcG9zaXRvcnkxMDU3MzY5MTA="
  data-category="Announcements"
  data-category-id="DIC_kwDOBk1qzs4CawFb"
  data-mapping="title"
  data-strict="1"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="top"
  data-theme="preferred_color_scheme"
  data-lang="zh-CN"
  data-loading="lazy"
  crossorigin="anonymous"
  async>
</script>


  

      </section>
      <aside class="sidebar col-md-3 offset-md-1 col-12">
        
  
  <section class="widget widget-toc">
    <h3 class="widget-title">文章目录</h3>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#tldr"><span class="toc-text">TL;DR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tikz-%E6%95%99%E7%A8%8B"><span class="toc-text">TikZ 教程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E7%90%86"><span class="toc-text">原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%80%E9%99%90%E6%80%A7"><span class="toc-text">局限性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%B4%E8%B0%A2"><span class="toc-text">致谢</span></a></li></ol>
  </section>
  

        


<section class="widget" id="widget-categories">
  <h3 class="widget-title">分类</h3>
  
  
    <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/tech/">技术</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/diary/">日常</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/essay/">随笔</a></li></ul>
  
</section>



<section class="widget" id="widget-pages">
  <h3 class="widget-title">页面</h3>
  <ul class="menu">
    
      
      <li class="menu-item menu-item-archives">
        <a href="/archives/" title="">归档</a>
      </li>
    
      
      <li class="menu-item menu-item-about">
        <a href="/about/" title="">关于我</a>
      </li>
    
      
      <li class="menu-item menu-item-friends">
        <a href="/friends/" title="">朋友们</a>
      </li>
    
  </ul>
</section>



<section class="widget" id="widget-links">
  <h3 class="widget-title">链接</h3>
  <ul class="menu">
    
      
      <li class="menu-item menu-item-github">
        <a href="https://github.com/prinsss" title="" target="_blank">GitHub</a>
      </li>
    
      
      <li class="menu-item menu-item-rss">
        <a href="/atom.xml" title="" target="_blank">RSS Feed</a>
      </li>
    
  </ul>
</section>




      </aside>
    </div>
  </div>
</main>

<footer>
  
  <div class="container">
    <p>
      &copy; 2024 <a href="https://prinsss.github.io">PRIN BLOG</a>. Proudly published with
      <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/printempw/hexo-theme-murasaki/" target="_blank">Murasaki</a>.
    </p>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/han-css@3.3.0/dist/han.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@10.6.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.3.1/dist/lazyload.min.js"></script>
<script>
  hljs.initHighlightingOnLoad();
  Han(document.querySelector('section.content')).setRoutine([
    'initCond', 'renderElem', 'renderJiya', 'correctBasicBD', 'substCombLigaWithPUA'
    // 'renderHanging', 'renderHWS'
  ]).render();
  new LazyLoad({
    elements_selector: '.post-content img',
    callback_loaded: function (el) {
      el.parentNode.nodeName.toLowerCase() === 'a' || mediumZoom(el, { margin: 24 });
    }
  });
</script>
  <script async src="https://oishii.prin.studio/delicious-party"
    data-website-id="02075562-9733-4917-8c28-be13173bb1f7">
  </script>

</body>
</html>
